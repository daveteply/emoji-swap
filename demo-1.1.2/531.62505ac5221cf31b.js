"use strict";(self.webpackChunkemoji_swap=self.webpackChunkemoji_swap||[]).push([[531],{1531:(ft,Z,c)=>{c.r(Z),c.d(Z,{GameModule:()=>ut});var _=c(9808),Y=c(8330),i=c(5e3),F=c(7423),z=c(85),ne=c(5861),b=c(7579);let H=(()=>{class a{WithinGrid(e,t,n){var s,r;const l=null===(s=null==n?void 0:n.grid)||void 0===s?void 0:s.length,d=null===(r=null==n?void 0:n.grid[0])||void 0===r?void 0:r.length;return e>-1&&t>-1&&e<l&&t<d}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var y=c(710),g=c(3999),S=(()=>{return(a=S||(S={}))[a.TimeBonus=0]="TimeBonus",a[a.SuperTimeBonus=1]="SuperTimeBonus",a[a.MatchLengthBonus=2]="MatchLengthBonus",a[a.CascadeBonus=3]="CascadeBonus",a[a.HintLoss=4]="HintLoss",a[a.NoMoreMoves=5]="NoMoreMoves",a[a.LevelComplete=6]="LevelComplete",S;var a})();let L=(()=>{class a{constructor(){this.gameSplashStateSource=new b.x,this.gameSplashState$=this.gameSplashStateSource.asObservable()}DoSplash(e){this.gameSplashStateSource.next(e)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var A=c(6425);let V=(()=>{class a{constructor(e,t){this.audioService=e,this.gameSplashService=t,this.intervalId=0,this.elapsed=0,this.isRunning=!1}TimerStart(){if(this.isRunning=!this.isRunning,this.isRunning){const e=Date.now()-this.elapsed;this.intervalId=setInterval(()=>{this.elapsed=Date.now()-e})}else clearInterval(this.intervalId)}TimerStop(){this.isRunning=!1,clearInterval(this.intervalId)}TimerReset(){this.elapsed=0,this.TimerStop()}ApplyHint(e){const t=e*g.Po;return this.gameSplashService.DoSplash({splashType:S.HintLoss,scoreValue:t}),t}ApplyCascade(e,t){const n=e*t*g.JQ;return this.gameSplashService.DoSplash({splashType:S.CascadeBonus,scoreValue:n}),this.audioService.PlayAudio(y.w.RareBonus),n}ApplyScoring(e,t,n){let s=0,r=0,l=0;for(const d of t){if(e.grid[d.rowInx][d.colInx].score.baseScore=n,this.elapsed)if(this.elapsed<=g.FQ){const m=n*Math.floor(1/this.elapsed*g.nb)*2;e.grid[d.rowInx][d.colInx].score.timeBonusSuper=m,r+=m}else if(this.elapsed<=g.nb){const m=n*Math.floor(1/this.elapsed*g.nb);e.grid[d.rowInx][d.colInx].score.timeBonus=m,s+=m}if(t.length>g.Pj){const m=n*t.length;e.grid[d.rowInx][d.colInx].score.matchLengthBonus=m,l+=m}}r&&(this.gameSplashService.DoSplash({splashType:S.SuperTimeBonus,scoreValue:r}),this.audioService.PlayAudio(y.w.RareBonus)),s&&(this.gameSplashService.DoSplash({splashType:S.TimeBonus,scoreValue:s}),this.audioService.PlayAudio(y.w.TimeBonus)),l&&(this.gameSplashService.DoSplash({splashType:S.MatchLengthBonus,scoreValue:l}),this.audioService.PlayAudio(y.w.RareBonus)),this.elapsed=0}TallyScore(e){let t=0;return null==e||e.grid.forEach(n=>n.filter(s=>s.score).forEach(s=>{let r=s.score.baseScore;s.score.timeBonus&&(r+=s.score.timeBonus),s.score.matchLengthBonus&&(r+=s.score.matchLengthBonus),t+=r})),t}OnDestroy(){clearInterval(this.intervalId)}}return a.\u0275fac=function(e){return new(e||a)(i.LFG(A.Q),i.LFG(L))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var C=(()=>{return(a=C||(C={}))[a.Left=2]="Left",a[a.Right=4]="Right",a[a.Up=8]="Up",a[a.Down=16]="Down",C;var a})(),u=(()=>{return(a=u||(u={}))[a.LocateAdjacentTile=0]="LocateAdjacentTile",a[a.ApplyDirectionalAnimation=1]="ApplyDirectionalAnimation",a[a.Swap=2]="Swap",a[a.SwapBack=3]="SwapBack",a[a.Shutter=4]="Shutter",a[a.ShowHint=5]="ShowHint",u;var a})();let W=(()=>{class a{constructor(e,t){this.gameUtilityService=e,this.scoringService=t,this.gameInteractionStateSource=new b.x,this.gameInteractionState$=this.gameInteractionStateSource.asObservable(),this.isSwapBack=!1}DoStep(e){this.gameInteractionStateSource.next(e)}TileSwiped(e){this.playerTile=e,this.adjacentTile={},this.gameInteractionStateSource.next(u.LocateAdjacentTile),this.scoringService.TimerStop()}LocateAdjacentTile(e){let t=this.playerTile.tile.rowInx,n=this.playerTile.tile.colInx;switch(this.playerTile.direction){case C.Up:t--;break;case C.Right:n++;break;case C.Down:t++;break;case C.Left:n--}return this.gameUtilityService.WithinGrid(t,n,e)?(this.adjacentTile=e.grid[t][n],!0):(e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateShutter=!1,this.gameInteractionStateSource.next(u.Shutter),!1)}SetDirectionalAnimationClass(e){switch(this.playerTile.direction){case C.Up:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideUp=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideDown=!0;break;case C.Right:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideRight=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideLeft=!0;break;case C.Down:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideDown=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideUp=!0;break;case C.Left:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideLeft=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideRight=!0}this.gameInteractionStateSource.next(u.Swap)}Swap(e){const t=Object.assign({},e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx]),n=Object.assign({},e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx]);e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx]=n,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx]=t}SwapBack(){this.isSwapBack=!this.isSwapBack,this.isSwapBack&&this.gameInteractionStateSource.next(u.LocateAdjacentTile)}Shutter(e){e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateShutter=!0}ApplyPotentials(e,t,n){if(e&&(null==t?void 0:t.length))if(n){const s=t[Math.floor(Math.random()*t.length)];this.applyPotentialClass(s,e)}else for(const s of t)this.applyPotentialClass(s,e)}applyPotentialClass(e,t){for(const n of e)t.grid[n.rowInx][n.colInx].potential=!0}}return a.\u0275fac=function(e){return new(e||a)(i.LFG(H),i.LFG(V))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var oe=c(4986),se=c(7272),w=c(5698),re=c(4482),le=c(5403),ce=c(5032),he=c(4004),ge=c(5577);function J(a,o){return o?e=>(0,se.z)(o.pipe((0,w.q)(1),function de(){return(0,re.e)((a,o)=>{a.subscribe((0,le.x)(o,ce.Z))})}()),e.pipe(J(a))):(0,ge.z)((e,t)=>a(e,t).pipe((0,w.q)(1),function me(a){return(0,he.U)(()=>a)}(e)))}var pe=c(5963);function B(a,o=oe.z){const e=(0,pe.H)(a,o);return J(()=>e)}var I=c(2722),v=(()=>{return(a=v||(v={}))[a.LockBoard=0]="LockBoard",a[a.FindMatches=1]="FindMatches",a[a.RemoveMatchSet=2]="RemoveMatchSet",a[a.CompleteLoop=3]="CompleteLoop",a[a.UnlockBoard=4]="UnlockBoard",v;var a})();let ue=(()=>{class a{constructor(){this.gameLoopStateSource=new b.x,this.gameLoopState$=this.gameLoopStateSource.asObservable()}DoStep(e){this.gameLoopStateSource.next(e)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var f=(()=>{return(a=f||(f={}))[a.SetToRemove=0]="SetToRemove",a[a.NextTile=1]="NextTile",a[a.ApplyRemoveClass=2]="ApplyRemoveClass",a[a.ApplyDropClass=3]="ApplyDropClass",a[a.Shift=4]="Shift",a[a.Complete=5]="Complete",f;var a})();let fe=(()=>{class a{constructor(e){this.audioService=e,this.tileRemoveStateSource=new b.x,this.tilesToRemove=[],this.tileRemoveState$=this.tileRemoveStateSource.asObservable()}StartTileDeletion(e){this.tilesToRemove=e,this.tileRemoveStateSource.next(f.SetToRemove)}SetToRemove(e){this.tilesToRemove.forEach(t=>{e.grid[t.rowInx][t.colInx].toRemove=!0}),this.tileRemoveStateSource.next(f.NextTile)}NextTile(e){this.tilesToRemove.length?(this.currentTile=this.tilesToRemove.shift(),e.colInx=this.currentTile.colInx,this.newTile=e,this.tileRemoveStateSource.next(f.ApplyRemoveClass)):this.tileRemoveStateSource.next(f.Complete)}ApplyRemoveClass(e){e.grid[this.currentTile.rowInx][this.currentTile.colInx].animateRemove=!0,this.tileRemoveStateSource.next(f.ApplyDropClass),this.audioService.PlayAudio(y.w.TileRemove)}ApplyDropClass(e){let t=this.currentTile.rowInx;for(;t>0;)t--,e.grid[t][this.currentTile.colInx].animateSlideDown=!0;this.tileRemoveStateSource.next(f.Shift)}Shift(e){let t=this.currentTile.rowInx;const n=this.currentTile.colInx;for(;t>0;){t--;const s=Object.assign({},e.grid[t][n]);s.rowInx=t+1,s.animateSlideDown=!1,e.grid[t+1][n]=s}e.grid[0][n]=this.newTile,this.tileRemoveStateSource.next(f.NextTile)}}return a.\u0275fac=function(e){return new(e||a)(i.LFG(A.Q))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var O=c(1314),M=c(7429),x=c(508),Q=c(226),ve=c(9770),_e=c(9646),D=c(9300),be=c(8675),G=c(925),p=c(4724),E=c(1642),X=c(1159),$=c(6360);function ye(a,o){}class j{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ce={dialogContainer:(0,p.X$)("dialogContainer",[(0,p.SB)("void, exit",(0,p.oB)({opacity:0,transform:"scale(0.7)"})),(0,p.SB)("enter",(0,p.oB)({transform:"none"})),(0,p.eR)("* => enter",(0,p.ru)([(0,p.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,p.oB)({transform:"none",opacity:1})),(0,p.IO)("@*",(0,p.pV)(),{optional:!0})])),(0,p.eR)("* => void, * => exit",(0,p.ru)([(0,p.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,p.oB)({opacity:0})),(0,p.IO)("@*",(0,p.pV)(),{optional:!0})]))])};let Se=(()=>{class a extends M.en{constructor(e,t,n,s,r,l,d,m){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=r,this._interactivityChecker=l,this._ngZone=d,this._focusMonitor=m,this._animationStateChanged=new i.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,G.ht)())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(t=>{t||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=(0,G.ht)(),n=this._elementRef.nativeElement;(!t||t===this._document.body||t===n||n.contains(t))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=(0,G.ht)();return e===t||e.contains(t)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.SBq),i.Y36(E.qV),i.Y36(i.sBO),i.Y36(_.K0,8),i.Y36(j),i.Y36(E.ic),i.Y36(i.R0b),i.Y36(E.tE))},a.\u0275dir=i.lG2({type:a,viewQuery:function(e,t){if(1&e&&i.Gf(M.Pl,7),2&e){let n;i.iGM(n=i.CRH())&&(t._portalOutlet=n.first)}},features:[i.qOj]}),a})(),Me=(()=>{class a extends Se{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return a.\u0275fac=function(){let o;return function(t){return(o||(o=i.n5z(a)))(t||a)}}(),a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&i.WFA("@dialogContainer.start",function(s){return t._onAnimationStart(s)})("@dialogContainer.done",function(s){return t._onAnimationDone(s)}),2&e&&(i.Ikx("id",t._id),i.uIk("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),i.d8E("@dialogContainer",t._state))},features:[i.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&i.YNc(0,ye,0,0,"ng-template",0)},directives:[M.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ce.dialogContainer]}}),a})(),Te=0;class U{constructor(o,e,t="mat-dialog-"+Te++){this._overlayRef=o,this._containerInstance=e,this.id=t,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new b.x,this._afterClosed=new b.x,this._beforeClosed=new b.x,this._state=0,e._id=t,e._animationStateChanged.pipe((0,D.h)(n=>"opened"===n.state),(0,w.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,D.h)(n=>"closed"===n.state),(0,w.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),o.keydownEvents().pipe((0,D.h)(n=>n.keyCode===X.hY&&!this.disableClose&&!(0,X.Vb)(n))).subscribe(n=>{n.preventDefault(),q(this,"keyboard")}),o.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():q(this,"mouse")})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe((0,D.h)(e=>"closing"===e.state),(0,w.q)(1)).subscribe(e=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(o){let e=this._getPositionStrategy();return o&&(o.left||o.right)?o.left?e.left(o.left):e.right(o.right):e.centerHorizontally(),o&&(o.top||o.bottom)?o.top?e.top(o.top):e.bottom(o.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(o="",e=""){return this._overlayRef.updateSize({width:o,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(o){return this._overlayRef.addPanelClass(o),this}removePanelClass(o){return this._overlayRef.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function q(a,o,e){return void 0!==a._containerInstance&&(a._containerInstance._closeInteractionType=o),a.close(e)}const K=new i.OlP("MatDialogData"),we=new i.OlP("mat-dialog-default-options"),ee=new i.OlP("mat-dialog-scroll-strategy"),xe={provide:ee,deps:[O.aV],useFactory:function Oe(a){return()=>a.scrollStrategies.block()}};let De=(()=>{class a{constructor(e,t,n,s,r,l,d,m,T,k){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=s,this._overlayContainer=r,this._dialogRefConstructor=d,this._dialogContainerType=m,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.x,this._afterOpenedAtThisLevel=new b.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ve.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,be.O)(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){t=function Pe(a,o){return Object.assign(Object.assign({},o),a)}(t,this._defaultOptions||new j),t.id&&this.getDialogById(t.id);const n=this._createOverlay(t),s=this._attachDialogContainer(n,t),r=this._attachDialogContent(e,s,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),s._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new O.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const s=i.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:j,useValue:t}]}),r=new M.C5(this._dialogContainerType,t.viewContainerRef,s,t.componentFactoryResolver);return e.attach(r).instance}_attachDialogContent(e,t,n,s){const r=new this._dialogRefConstructor(n,t,s.id);if(e instanceof i.Rgc)t.attachTemplatePortal(new M.UE(e,null,{$implicit:s.data,dialogRef:r}));else{const l=this._createInjector(s,r,t),d=t.attachComponentPortal(new M.C5(e,s.viewContainerRef,l,s.componentFactoryResolver));r.componentInstance=d.instance}return r.updateSize(s.width,s.height).updatePosition(s.position),r}_createInjector(e,t,n){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return e.direction&&(!s||!s.get(Q.Is,null,i.XFs.Optional))&&r.push({provide:Q.Is,useValue:{value:e.direction,change:(0,_e.of)()}}),i.zs3.create({parent:s||this._injector,providers:r})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let s=t[n];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return a.\u0275fac=function(e){i.$Z()},a.\u0275dir=i.lG2({type:a}),a})(),N=(()=>{class a extends De{constructor(e,t,n,s,r,l,d,m){super(e,t,s,l,d,r,U,Me,K,m)}}return a.\u0275fac=function(e){return new(e||a)(i.LFG(O.aV),i.LFG(i.zs3),i.LFG(_.Ye,8),i.LFG(we,8),i.LFG(ee),i.LFG(a,12),i.LFG(O.Xj),i.LFG($.Qb,8))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac}),a})(),Ae=0,Ie=(()=>{class a{constructor(e,t,n){this._dialogRef=e,this._elementRef=t,this._dialog=n,this.id="mat-dialog-title-"+Ae++}ngOnInit(){this._dialogRef||(this._dialogRef=function Fe(a,o){let e=a.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?o.find(t=>t.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(U,8),i.Y36(i.SBq),i.Y36(N))},a.\u0275dir=i.lG2({type:a,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,t){2&e&&i.Ikx("id",t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),a})(),Re=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=i.lG2({type:a,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),a})(),ke=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=i.lG2({type:a,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),a})(),Le=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[N,xe],imports:[[O.U8,M.eL,x.BQ],x.BQ]}),a})(),Be=(()=>{class a{constructor(e,t,n){this.dialogRef=e,this.gameStats=t,this.audioService=n}ngOnInit(){this.audioService.PlayAudio(y.w.GameOver)}newGame(){this.dialogRef.close(!0)}exit(){this.dialogRef.close(!1)}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(U),i.Y36(K),i.Y36(A.Q))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-game-over"]],decls:15,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","accent","cdkFocusInitial","",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"h1",0)(1,"span")(2,"p"),i._uU(3,"No More Moves"),i.qZA(),i.TgZ(4,"p"),i._uU(5,"Game Over"),i.qZA()()(),i.TgZ(6,"div",1)(7,"p"),i._uU(8),i.ALo(9,"number"),i.qZA()(),i.TgZ(10,"div",2)(11,"button",3),i.NdJ("click",function(){return t.newGame()}),i._uU(12,"New Game"),i.qZA(),i.TgZ(13,"button",4),i.NdJ("click",function(){return t.exit()}),i._uU(14," Exit "),i.qZA()()),2&e&&(i.xp6(8),i.hij("Points this level: ",i.Dn7(9,1,null==t.gameStats?null:t.gameStats.levelScore,"1.0","en-US"),""))},directives:[Ie,Re,ke,F.lW],pipes:[_.JJ],styles:[""]}),a})();const Ge={list:[{level:1,title:"Emojis!",emojis:[{code:"1F600",title:"grinning face"},{code:"1F607",title:"smiling face with halo"},{code:"1F60D",title:"smiling face with heart-eyes"},{code:"1F92A",title:"zany face"},{code:"1F923",title:"rolling on the floor laughing"},{code:"1F60E",title:"smiling face with sunglasses"}]},{level:2,title:"More faces",emojis:[{code:"1F913",title:"nerd face"},{code:"1F9D0",title:"face with monocle"},{code:"1F632",title:"astonished face"},{code:"1F608",title:"smiling face with horns"},{code:"1F911",title:"money-mouth face"},{code:"1F973",title:"partying face"}]},{level:3,title:"Costumes",emojis:[{code:"1F47A",title:"goblin"},{code:"1F920",title:"cowboy hat face"},{code:"1F921",title:"clown face"},{code:"1F47B",title:"ghost"},{code:"1F47D",title:"alien"},{code:"1F916",title:"robot"}]},{level:4,title:"Ground Transport",emojis:[{code:"1F694",title:"oncoming police car"},{code:"1F699",title:"sport utility vehicle"},{code:"1F68D",title:"oncoming bus"},{code:"26FD",title:"fuel pump"},{code:"1F6A7",title:"construction"},{code:"1F6A5",title:"horizontal traffic light"}]},{level:5,title:"Sky",emojis:[{code:"1F319",title:"crescent moon"},{code:"1F31E",title:"sun with face"},{code:"1F320",title:"shooting star"},{code:"1FA90",title:"ringed planet"},{code:"1F308",title:"rainbow"},{code:"1F30C",title:"milky way"}]}]};var h=(()=>{return(a=h||(h={}))[a.N=0]="N",a[a.NE=1]="NE",a[a.E=2]="E",a[a.SE=3]="SE",a[a.S=4]="S",a[a.SW=5]="SW",a[a.W=6]="W",a[a.NW=7]="NW",h;var a})();const te=[h.N,h.E,h.S,h.W],R=[h.N,h.NE,h.E,h.SE,h.S,h.SW,h.W,h.NW];let Ee=(()=>{class a{constructor(e){this.gameUtilityService=e,this.candidateMatches=new Array,this.matchSets=[],this.potentialMatchSets=[]}get currentMatchSets(){return this.matchSets}get currentPotentialMatches(){return this.potentialMatchSets}CreateGame(e,t,n){const s={grid:[]};for(let r=0;r<e;r++){s.grid[r]=new Array;for(let l=0;l<t;l++){const d=this.NewTile(r,l,n);s.grid[r][l]=d}}return s}NewTile(e,t,n){var s;const r=Ge.list.find(m=>m.level===n),l=null==r?void 0:r.emojis[Math.floor(Math.random()*(null===(s=null==r?void 0:r.emojis)||void 0===s?void 0:s.length))];return Object.assign({colInx:t,rowInx:e,html:`&#x${null==l?void 0:l.code};`,score:{baseScore:0},isNew:Math.floor(5*Math.random())},l)}ReIndexGrid(e){var t;null===(t=null==e?void 0:e.grid)||void 0===t||t.forEach((n,s)=>{n.forEach((r,l)=>{e.grid[s][l].colInx=l,e.grid[s][l].rowInx=s,e.grid[s][l].matched=!1,e.grid[s][l].potential=!1,e.grid[s][l].score={baseScore:0},e.grid[s][l].animateSlideUp=!1,e.grid[s][l].animateSlideRight=!1,e.grid[s][l].animateSlideDown=!1,e.grid[s][l].animateSlideLeft=!1,e.grid[s][l].animateShutter=!1,e.grid[s][l].isNew=0})})}FindMatchesAndPotentials(e){var t;this.candidateMatches=[],this.matchSets=[],this.potentialMatchSets=[],null===(t=null==e?void 0:e.grid)||void 0===t||t.forEach(n=>{n.forEach(s=>{te.forEach(r=>{this.candidateMatches=[Object.assign({},s)],this.directionalSearch(r,s,e),this.candidateMatches.length>=g.Pj&&(this.candidateMatches.forEach(l=>{e.grid[l.rowInx][l.colInx].matched=!0}),this.candidateMatches.every(l=>l.matched)||this.matchSets.push([...this.candidateMatches]))}),this.potentialSearchStaggered(s,e)})})}directionalSearch(e,t,n){let s=t.rowInx,r=t.colInx;switch(e){case h.N:s=t.rowInx-1;break;case h.E:r=t.colInx+1;break;case h.S:s=t.rowInx+1;break;case h.W:r=t.colInx-1}if(!this.gameUtilityService.WithinGrid(s,r,n))return;const l=n.grid[s][r];if(l.code===t.code)this.candidateMatches.push(Object.assign({},l)),this.directionalSearch(e,l,n);else if(this.candidateMatches.length===g.Pj-1)return this.potentialSearch(e,t,n),void this.potentialExtended(e,t,n)}potentialSearch(e,t,n){let s=t.rowInx,r=t.colInx;const l=R.findIndex(k=>k===e);let d=l-1;d<0&&(d=R.length-1);const T=[R[d],R[l+1]];for(const k of T){switch(k){case h.N:s=t.rowInx-1;break;case h.NE:s=t.rowInx-1,r=t.colInx+1;break;case h.E:r=t.colInx+1;break;case h.SE:s=t.rowInx+1,r=t.colInx+1;break;case h.S:s=t.rowInx+1;break;case h.SW:s=t.rowInx+1,r=t.colInx-1;break;case h.W:r=t.colInx-1;break;case h.NW:s=t.rowInx-1,r=t.colInx-1}if(this.gameUtilityService.WithinGrid(s,r,n)){const P=n.grid[s][r],ae=this.candidateMatches[0];if(P&&P.rowInx!==ae.rowInx&&P.colInx!==ae.colInx&&P.code===t.code)return void this.potentialMatchSets.push([...this.candidateMatches,P])}}}potentialExtended(e,t,n){let s=t.rowInx,r=t.colInx;switch(e){case h.N:s=t.rowInx-2;break;case h.E:r=t.colInx+2;break;case h.S:s=t.rowInx+2;break;case h.W:r=t.colInx-2}if(this.gameUtilityService.WithinGrid(s,r,n)){const l=n.grid[s][r];this.candidateMatches.every(d=>d.code===l.code)&&this.potentialMatchSets.push([...this.candidateMatches,l])}}potentialSearchStaggered(e,t){const n=new Array;let s=e.rowInx,r=e.colInx;if(te.forEach(l=>{switch(s=e.rowInx,r=e.colInx,l){case h.N:s=e.rowInx-1;break;case h.E:r=e.colInx+1;break;case h.S:s=e.rowInx+1;break;case h.W:r=e.colInx-1}this.gameUtilityService.WithinGrid(s,r,t)&&n.push(t.grid[s][r])}),n.length>=g.Pj)for(const l of n){const d=n.filter(m=>(null==m?void 0:m.code)===l.code);if(d.length>=g.Pj)return void this.potentialMatchSets.push(d)}}}return a.\u0275fac=function(e){return new(e||a)(i.LFG(H))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),je=(()=>{class a{constructor(e){this.gameInteractionsService=e,this.isPanning=!1}onPan(e){(null==e?void 0:e.isFinal)||this.isPanning?(null==e?void 0:e.isFinal)&&(this.isPanning=!1):(this.isPanning=!0,this.gameInteractionsService.TileSwiped({tile:this.tile,direction:null==e?void 0:e.direction}))}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-game-board-tile"]],inputs:{tile:"tile",disabled:"disabled"},decls:2,vars:35,consts:[[1,"game-tile",3,"pan"],[1,"tile-overlay",3,"innerHTML"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.NdJ("pan",function(s){return t.onPan(s)}),i._UZ(1,"div",1),i.qZA()),2&e&&(i.ekj("game-tile__disabled",t.disabled),i.xp6(1),i.ekj("tile-overlay__disabled",t.disabled&&!(null!=t.tile&&t.tile.toRemove)&&!(null!=t.tile&&t.tile.animateRemove)&&!(null!=t.tile&&t.tile.animateSlideUp)&&!(null!=t.tile&&t.tile.animateSlideRight)&&!(null!=t.tile&&t.tile.animateSlideDown)&&!(null!=t.tile&&t.tile.animateSlideLeft))("tile-overlay__to-remove",null==t.tile?null:t.tile.toRemove)("tile-overlay__remove",null==t.tile?null:t.tile.animateRemove)("tile-overlay__slide-up",null==t.tile?null:t.tile.animateSlideUp)("tile-overlay__slide-right",null==t.tile?null:t.tile.animateSlideRight)("tile-overlay__slide-down",null==t.tile?null:t.tile.animateSlideDown)("tile-overlay__slide-left",null==t.tile?null:t.tile.animateSlideLeft)("tile-overlay__reset-slide",!(null!=t.tile&&t.tile.animateSlideDown||null!=t.tile&&t.tile.animateSlideUp||null!=t.tile&&t.tile.animateSlideRight||null!=t.tile&&t.tile.animateSlideLeft))("tile-overlay__shutter",null==t.tile?null:t.tile.animateShutter)("tile-overlay__hint",null==t.tile?null:t.tile.potential)("tile-overlay__new-tile",null==t.tile?null:t.tile.isNew)("tile-overlay__new-tile-delay-1",1===(null==t.tile?null:t.tile.isNew))("tile-overlay__new-tile-delay-2",2===(null==t.tile?null:t.tile.isNew))("tile-overlay__new-tile-delay-3",3===(null==t.tile?null:t.tile.isNew))("tile-overlay__new-tile-delay-4",4===(null==t.tile?null:t.tile.isNew))("tile-overlay__new-tile-delay-5",5===(null==t.tile?null:t.tile.isNew)),i.Q6J("innerHTML",null==t.tile?null:t.tile.html,i.oJD))},styles:[".game-tile[_ngcontent-%COMP%]{width:6.5em;height:6.5em;position:relative}.game-tile__disabled[_ngcontent-%COMP%]{pointer-events:none}.game-tile[_ngcontent-%COMP%]   .tile-slide[_ngcontent-%COMP%], .game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-left[_ngcontent-%COMP%], .game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-right[_ngcontent-%COMP%], .game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-up[_ngcontent-%COMP%], .game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-down[_ngcontent-%COMP%]{z-index:1;filter:blur(2px)}.game-tile[_ngcontent-%COMP%]   .tile-overlay[_ngcontent-%COMP%]{position:absolute;width:90%;height:90%;top:0;left:0;font-size:3.9em;display:flex;justify-content:center;align-items:center;border-radius:.1em;background-color:#ddd;transition:margin-left .5s,margin-top .5s}.game-tile[_ngcontent-%COMP%]   .tile-overlay__disabled[_ngcontent-%COMP%]{filter:blur(2px) grayscale(50%) brightness(.7)}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-down[_ngcontent-%COMP%]{margin-top:6.5em}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-up[_ngcontent-%COMP%]{margin-top:-6.5em}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-right[_ngcontent-%COMP%]{margin-left:6.5em}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-left[_ngcontent-%COMP%]{margin-left:-6.5em}.game-tile[_ngcontent-%COMP%]   .tile-overlay__reset-slide[_ngcontent-%COMP%]{transition:transform 1s,font-size 1s,opacity 1s;margin-left:0;margin-top:0}.game-tile[_ngcontent-%COMP%]   .tile-overlay__new-tile[_ngcontent-%COMP%]{animation:new-tile .5s}.game-tile[_ngcontent-%COMP%]   .tile-overlay__new-tile-delay-1[_ngcontent-%COMP%]{animation-delay:50ms}.game-tile[_ngcontent-%COMP%]   .tile-overlay__new-tile-delay-2[_ngcontent-%COMP%]{animation-delay:.25s}.game-tile[_ngcontent-%COMP%]   .tile-overlay__new-tile-delay-3[_ngcontent-%COMP%]{animation-delay:.35s}.game-tile[_ngcontent-%COMP%]   .tile-overlay__new-tile-delay-4[_ngcontent-%COMP%], .game-tile[_ngcontent-%COMP%]   .tile-overlay__new-tile-delay-5[_ngcontent-%COMP%]{animation-delay:.55s}.game-tile[_ngcontent-%COMP%]   .tile-overlay__to-remove[_ngcontent-%COMP%]{border-radius:3em;animation:wobble .5s infinite}.game-tile[_ngcontent-%COMP%]   .tile-overlay__remove[_ngcontent-%COMP%]{animation:remove 1s}.game-tile[_ngcontent-%COMP%]   .tile-overlay__shutter[_ngcontent-%COMP%]{animation:shutter .25s 2}.game-tile[_ngcontent-%COMP%]   .tile-overlay__hint[_ngcontent-%COMP%]{animation:hint .5s}@keyframes new-tile{0%{font-size:0;opacity:0}50%{font-size:6.5em}to{font-size:3.9em;opacity:1}}@keyframes remove{0%{font-size:6.565em}50%{transform:rotate(-365deg);font-size:3.25em;opacity:0}}@keyframes wobble{0%{transform:rotate(45deg);font-size:6.565em}50%{transform:rotate(-45deg);font-size:6.5em;border-radius:1em}}@keyframes shutter{0%{margin-left:.5em;transform:skewX(5deg,5deg)}50%{margin-left:-.5em;transform:skew(-5deg,-5deg)}}@keyframes hint{0%{border:3px dotted green;font-size:13em}to{font-size:3.25em;opacity:0}}@media (max-width: 767px){.game-tile[_ngcontent-%COMP%]{height:4.875em;width:4.875em}.game-tile[_ngcontent-%COMP%]   .tile-overlay[_ngcontent-%COMP%]{font-size:3.25em}}"]}),a})();var Ue=c(3191),Ne=c(727),Ze=c(4968);const Ye=["primaryValueBar"],ze=(0,x.pj)(class{constructor(a){this._elementRef=a}},"primary"),He=new i.OlP("mat-progress-bar-location",{providedIn:"root",factory:function Ve(){const a=(0,i.f3M)(_.K0),o=a?a.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),We=new i.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Je=0,Qe=(()=>{class a extends ze{constructor(e,t,n,s,r,l){super(e),this._ngZone=t,this._animationMode=n,this._changeDetectorRef=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.vpe,this._animationEndSubscription=Ne.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Je++;const d=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${d}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n,r&&(r.color&&(this.color=this.defaultColor=r.color),this.mode=r.mode||this.mode)}get value(){return this._value}set value(e){var t;this._value=ie((0,Ue.su)(e)||0),null===(t=this._changeDetectorRef)||void 0===t||t.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){var t;this._bufferValue=ie(e||0),null===(t=this._changeDetectorRef)||void 0===t||t.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=(0,Ze.R)(e,"transitionend").pipe((0,D.h)(t=>t.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36($.Qb,8),i.Y36(He,8),i.Y36(We,8),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-progress-bar"]],viewQuery:function(e,t){if(1&e&&i.Gf(Ye,5),2&e){let n;i.iGM(n=i.CRH())&&(t._primaryValueBar=n.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,t){2&e&&(i.uIk("aria-valuenow","indeterminate"===t.mode||"query"===t.mode?null:t.value)("mode",t.mode),i.ekj("_mat-animation-noopable",t._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.O4$(),i.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),i._UZ(4,"circle",3),i.qZA()(),i._UZ(5,"rect",4),i.qZA(),i.kcU(),i._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),i.qZA()),2&e&&(i.xp6(3),i.Q6J("id",t.progressbarId),i.xp6(2),i.uIk("fill",t._rectangleFillValue),i.xp6(1),i.Q6J("ngStyle",t._bufferTransform()),i.xp6(1),i.Q6J("ngStyle",t._primaryTransform()))},directives:[_.PC],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),a})();function ie(a,o=0,e=100){return Math.max(o,Math.min(e,a))}let Xe=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[_.ez,x.BQ],x.BQ]}),a})();function $e(a,o){if(1&a&&i._UZ(0,"app-game-board-tile",5),2&a){const e=o.$implicit,t=i.oxw(2);i.Q6J("tile",e)("disabled",t.boardDisabled)}}function qe(a,o){if(1&a&&(i.TgZ(0,"div")(1,"div",3),i.YNc(2,$e,1,2,"app-game-board-tile",4),i.qZA()()),2&a){const e=o.$implicit;i.xp6(2),i.Q6J("ngForOf",e)}}let Ke=(()=>{class a{constructor(e,t,n,s,r,l,d,m,T){this.gameService=e,this.gameLoopService=t,this.tileRemoveService=n,this.gameSplashService=s,this.gameInteractionsService=r,this.scoringService=l,this.audioService=d,this.dialog=m,this.router=T,this.boardDisabled=!1,this.hintDisabled=!1,this.score=0,this.levelScore=0,this.level=1,this.matchSetCount=0,this.matchProgress=0,this.cascadeCount=0,this.gridRows=g.I4,this.gridColumns=g.wT,this.matchSets=[],this.currentMatchSet=[],this.potentialMatchSets=[],this.subscription=new b.x,this.swapInProgress=!1,this.scoreUpdated=new i.vpe,this.levelUpdated=new i.vpe}ngOnInit(){this.gameLoopService.gameLoopState$.pipe(B(50)).pipe((0,I.R)(this.subscription)).subscribe(e=>{switch(e){case v.LockBoard:this.boardDisabled=!0,this.gameLoopService.DoStep(v.FindMatches);break;case v.FindMatches:this.gameService.FindMatchesAndPotentials(this.gameBoard),this.matchSets=this.gameService.currentMatchSets,this.potentialMatchSets=this.gameService.currentPotentialMatches,this.gameLoopService.DoStep(v.RemoveMatchSet);break;case v.RemoveMatchSet:this.matchSets.length?(this.audioService.PlayAudio(y.w.MatchFound),this.currentMatchSet=this.matchSets.shift(),this.tileRemoveService.StartTileDeletion(this.currentMatchSet.map(t=>Object.assign({},t))),this.matchSetCount++,this.cascadeCount++,this.swapInProgress=!1,this.hintDisabled=!1):(this.swapInProgress&&(this.gameInteractionsService.DoStep(u.SwapBack),this.swapInProgress=!1),this.potentialMatchSets.length?this.gameLoopService.DoStep(v.UnlockBoard):this.showGameOverDialog(!0),this.cascadeBonus(),this.scoringService.TimerStart());break;case v.CompleteLoop:this.matchProgress=this.matchSetCount/g.u5*100,this.updateScore(),this.matchSetCount>=g.u5?this.nextLevel():this.gameLoopService.DoStep(v.FindMatches);break;case v.UnlockBoard:this.boardDisabled=!1}}),this.tileRemoveService.tileRemoveState$.pipe(B(100)).pipe((0,I.R)(this.subscription)).subscribe(e=>{switch(e){case f.SetToRemove:this.tileRemoveService.SetToRemove(this.gameBoard);break;case f.NextTile:this.gameService.ReIndexGrid(this.gameBoard),this.tileRemoveService.NextTile(this.gameService.NewTile(0,0,this.levelToRender()));break;case f.ApplyRemoveClass:this.tileRemoveService.ApplyRemoveClass(this.gameBoard);break;case f.ApplyDropClass:this.tileRemoveService.ApplyDropClass(this.gameBoard);break;case f.Shift:this.tileRemoveService.Shift(this.gameBoard);break;case f.Complete:this.gameLoopService.DoStep(v.CompleteLoop)}}),this.gameInteractionsService.gameInteractionState$.pipe(B(100)).pipe((0,I.R)(this.subscription)).subscribe(e=>{switch(e){case u.LocateAdjacentTile:this.gameInteractionsService.LocateAdjacentTile(this.gameBoard)&&(this.swapInProgress=!0,this.audioService.PlayAudio(y.w.Swipe),this.gameInteractionsService.DoStep(u.ApplyDirectionalAnimation));break;case u.ApplyDirectionalAnimation:this.gameInteractionsService.SetDirectionalAnimationClass(this.gameBoard);break;case u.Swap:this.gameInteractionsService.Swap(this.gameBoard),this.gameService.ReIndexGrid(this.gameBoard),this.gameLoopService.DoStep(v.LockBoard);break;case u.SwapBack:this.gameInteractionsService.SwapBack();break;case u.Shutter:this.gameInteractionsService.Shutter(this.gameBoard),this.audioService.PlayAudio(y.w.InvalidSwipe);break;case u.ShowHint:this.audioService.PlayAudio(y.w.Hint),this.gameService.ReIndexGrid(this.gameBoard),this.gameInteractionsService.ApplyPotentials(this.gameBoard,this.potentialMatchSets,!0)}}),this.StartLevel()}ngOnDestroy(){this.subscription.next(!0),this.subscription.complete()}StartLevel(e=!1){var t=this;return(0,ne.Z)(function*(){e||(t.score=0,t.scoreUpdated.emit(t.score),t.level=1,t.levelUpdated.emit(t.level)),t.scoringService.TimerReset(),t.hintDisabled=!1,t.matchSetCount=0,t.matchProgress=0,t.cascadeCount=0,t.levelScore=0,t.gameBoard=t.gameService.CreateGame(g.I4,g.wT,t.levelToRender()),t.audioService.PlayAudio(y.w.LevelChange),yield t.forceDelay(750),t.gameLoopService.DoStep(v.LockBoard)})()}UseHint(){this.hintDisabled=!0,this.gameInteractionsService.DoStep(u.ShowHint);const e=this.scoringService.ApplyHint(this.level);this.score-e>Number.MIN_SAFE_INTEGER&&(this.score-=e,this.levelScore-=e,this.scoreUpdated.emit(this.score))}nextLevel(){this.matchSetCount=0,this.cascadeBonus(),this.level++,this.levelUpdated.emit(this.level),this.gameSplashService.DoSplash({splashType:S.LevelComplete}),this.StartLevel(!0)}updateScore(){this.scoringService.ApplyScoring(this.gameBoard,this.currentMatchSet,this.level);const e=this.scoringService.TallyScore(this.gameBoard);this.levelScore+=e,this.score+=e,this.scoreUpdated.emit(this.score)}cascadeBonus(){if(this.cascadeCount>1){const e=this.scoringService.ApplyCascade(this.level,this.cascadeCount);this.score+=e,this.levelScore+=e,this.scoreUpdated.emit(this.score)}this.cascadeCount=0}levelToRender(){const e=this.level%g.k8;return 0===e?g.k8:e}forceDelay(e){return new Promise(t=>setTimeout(t,e))}showGameOverDialog(e=!1){this.dialog.open(Be,{data:{level:this.level,noMoreMoves:e,levelScore:this.levelScore}}).afterClosed().subscribe(n=>{n?this.StartLevel():this.router.navigate(["/"])})}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(Ee),i.Y36(ue),i.Y36(fe),i.Y36(L),i.Y36(W),i.Y36(V),i.Y36(A.Q),i.Y36(N),i.Y36(Y.F0))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-game-board"]],outputs:{scoreUpdated:"scoreUpdated",levelUpdated:"levelUpdated"},decls:3,vars:2,consts:[[1,"game-board"],[4,"ngFor","ngForOf"],["mode","determinate",3,"value"],[1,"grid-column"],[3,"tile","disabled",4,"ngFor","ngForOf"],[3,"tile","disabled"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,qe,3,1,"div",1),i._UZ(2,"mat-progress-bar",2),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",t.gameBoard.grid),i.xp6(1),i.Q6J("value",t.matchProgress))},directives:[_.sg,je,Qe],styles:[".game-board[_ngcontent-%COMP%]{display:inline-block;position:relative;overflow:hidden}.game-board[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]{display:flex}"]}),a})();function et(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"Fast match!"),i.qZA())}function tt(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"Super fast match!"),i.qZA())}function it(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"Long Match Series!"),i.qZA())}function at(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"Cascading matches!"),i.qZA())}function nt(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"Hint taken!"),i.qZA())}function ot(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"No moves;"),i._UZ(2,"br"),i._uU(3,"Reshuffling!"),i.qZA())}function st(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"Level Complete!"),i.qZA())}function rt(a,o){1&a&&(i.TgZ(0,"span"),i._uU(1,"-"),i.qZA())}function lt(a,o){1&a&&i._uU(0,"+")}function ct(a,o){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const e=i.oxw(2).$implicit;i.xp6(1),i.Oqu(null==e?null:e.scoreValue)}}function dt(a,o){if(1&a&&(i.TgZ(0,"div"),i.YNc(1,rt,2,0,"span",7),i.YNc(2,lt,1,0,"ng-template",null,8,i.W1O),i.YNc(4,ct,2,1,"span",6),i.qZA()),2&a){const e=i.MAs(3),t=i.oxw().$implicit,n=i.oxw();i.xp6(1),i.Q6J("ngIf",t.splashType===n.splashType.HintLoss)("ngIfElse",e),i.xp6(3),i.Q6J("ngIf",t.scoreValue)}}function ht(a,o){if(1&a&&(i.TgZ(0,"div",3)(1,"div",4),i.YNc(2,et,2,0,"span",5),i.YNc(3,tt,2,0,"span",5),i.YNc(4,it,2,0,"span",5),i.YNc(5,at,2,0,"span",5),i.YNc(6,nt,2,0,"span",5),i.YNc(7,ot,4,0,"span",5),i.YNc(8,st,2,0,"span",5),i.qZA(),i.YNc(9,dt,5,3,"div",6),i.qZA()),2&a){const e=o.$implicit,t=i.oxw();i.ekj("splash-item__time-bonus",e.splashType===t.splashType.TimeBonus)("splash-item__super-time-bonus",e.splashType===t.splashType.SuperTimeBonus)("splash-item__match-length-bonus",e.splashType===t.splashType.MatchLengthBonus)("splash-item__cascade",e.splashType===t.splashType.CascadeBonus)("splash-item__hint",e.splashType===t.splashType.HintLoss)("splash-item__no-more-matches",e.splashType===t.splashType.NoMoreMoves)("splash-item__level-complete",e.splashType===t.splashType.LevelComplete),i.xp6(1),i.Q6J("ngSwitch",e.splashType),i.xp6(1),i.Q6J("ngSwitchCase",t.splashType.TimeBonus),i.xp6(1),i.Q6J("ngSwitchCase",t.splashType.SuperTimeBonus),i.xp6(1),i.Q6J("ngSwitchCase",t.splashType.MatchLengthBonus),i.xp6(1),i.Q6J("ngSwitchCase",t.splashType.CascadeBonus),i.xp6(1),i.Q6J("ngSwitchCase",t.splashType.HintLoss),i.xp6(1),i.Q6J("ngSwitchCase",t.splashType.NoMoreMoves),i.xp6(1),i.Q6J("ngSwitchCase",t.splashType.LevelComplete),i.xp6(1),i.Q6J("ngIf",null==e?null:e.scoreValue)}}let mt=(()=>{class a{constructor(e){this.gameSplashService=e,this.subscription=new b.x,this.DECAY_TIME=4e3,this.splashItems=[],this.splashType=S}ngOnInit(){this.gameSplashService.gameSplashState$.pipe((0,I.R)(this.subscription)).subscribe(e=>{var t;this.splashItems=this.splashItems.filter(n=>n.timestamp&&Date.now()-n.timestamp<this.DECAY_TIME),null===(t=this.splashItems)||void 0===t||t.push(Object.assign({timestamp:Date.now()},e))})}ngOnDestroy(){this.subscription.next(!0),this.subscription.complete()}}return a.\u0275fac=function(e){return new(e||a)(i.Y36(L))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-game-board-splash"]],decls:3,vars:1,consts:[[1,"splash-content"],[1,"splash-items"],["class","splash-item",3,"splash-item__time-bonus","splash-item__super-time-bonus","splash-item__match-length-bonus","splash-item__cascade","splash-item__hint","splash-item__no-more-matches","splash-item__level-complete",4,"ngFor","ngForOf"],[1,"splash-item"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["negativeScore",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,ht,10,23,"div",2),i.qZA()()),2&e&&(i.xp6(2),i.Q6J("ngForOf",t.splashItems))},directives:[_.sg,_.RF,_.n9,_.O5],styles:[".splash-content[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:100%}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item[_ngcontent-%COMP%]{opacity:0;padding:1em;font-weight:700;background-color:#3f51b5;box-shadow:0 0 .5em 1em #e91e63;color:#fff;border-radius:1em;white-space:nowrap;text-align:center;letter-spacing:.1em;line-height:120%}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item__time-bonus[_ngcontent-%COMP%]{animation:base-effect 4s}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item__super-time-bonus[_ngcontent-%COMP%]{animation:base-effect 4s,wobble 1s alternate}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item__match-length-bonus[_ngcontent-%COMP%], .splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item__no-more-matches[_ngcontent-%COMP%]{animation:base-effect 4s}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item__hint[_ngcontent-%COMP%]{background-color:#0d47a1;box-shadow:0 0 .5em 1em #82b1ff;animation:base-effect 4s}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item__cascade[_ngcontent-%COMP%]{background-image:radial-gradient(#e91e63,#3f51b5);box-shadow:0 0 .5em 1em #3f51b5;animation:base-effect 4s}.splash-content[_ngcontent-%COMP%]   .splash-items[_ngcontent-%COMP%]   .splash-item__level-complete[_ngcontent-%COMP%]{background-color:#fff;color:#3f51b5;animation:base-effect 4s .5s,in-from-top 4s,rainbow-cycle .5s infinite}@keyframes base-effect{0%{opacity:0;font-size:0}50%{opacity:.8;font-size:300%}to{opacity:0;font-size:400%;letter-spacing:.5em}}@keyframes wobble{0%{transform:rotate(-45deg)}50%{transform:rotate(45deg)}}@keyframes in-from-top{0%{margin-top:-30em}to{margin-top:0}}@keyframes rainbow-cycle{0%{box-shadow:0 0 .5em 1em red;background-color:red}20%{box-shadow:0 0 .5em 1em orange;background-color:orange}40%{box-shadow:0 0 .5em 1em #ff0;background-color:#ff0}60%{box-shadow:0 0 .5em 1em green;background-color:green}80%{box-shadow:0 0 .5em 1em #00f;background-color:#00f}to{box-shadow:0 0 .5em 1em indigo;background-color:indigo}}"]}),a})();const gt=[{path:"",component:(()=>{class a{constructor(){this.score=0,this.level=1}ngOnInit(){}updateScore(e){this.score=e}updateLevel(e){this.level=e}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-game-container"]],decls:25,vars:7,consts:[[1,"game-container"],[1,"game-controls"],["mat-stroked-button","","color","accent",1,"hint-button",3,"disabled","click"],["aria-hidden","false","aria-label","Hint button to reveal a possible match"],[1,"hint-button-text"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"game-board-content"],[3,"scoreUpdated","levelUpdated"],["gameBoardComponent",""],[1,"game-stats"],[1,"stat"],[1,"level-value"],[1,"score-value"],[1,"game-splash-container"]],template:function(e,t){if(1&e){const n=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"button",2),i.NdJ("click",function(){return i.CHM(n),i.MAs(11).UseHint()}),i.TgZ(3,"mat-icon",3),i._uU(4,"lightbulb"),i.qZA(),i.TgZ(5,"span",4),i._uU(6,"Hint"),i.qZA()(),i.TgZ(7,"button",5),i.NdJ("click",function(){return i.CHM(n),i.MAs(11).StartLevel()}),i._uU(8," New Game "),i.qZA()(),i.TgZ(9,"div",6)(10,"app-game-board",7,8),i.NdJ("scoreUpdated",function(r){return t.updateScore(r)})("levelUpdated",function(r){return t.updateLevel(r)}),i.qZA()(),i.TgZ(12,"div",9)(13,"div",10)(14,"small"),i._uU(15,"Level: "),i.qZA(),i.TgZ(16,"span",11),i._uU(17),i.qZA()(),i.TgZ(18,"div",10)(19,"small"),i._uU(20,"Score: "),i.qZA(),i.TgZ(21,"span",12),i._uU(22),i.ALo(23,"number"),i.qZA()()(),i._UZ(24,"app-game-board-splash",13),i.qZA()}if(2&e){const n=i.MAs(11);i.xp6(2),i.Q6J("disabled",n.boardDisabled||n.hintDisabled),i.xp6(5),i.Q6J("disabled",n.boardDisabled),i.xp6(10),i.Oqu(t.level),i.xp6(5),i.Oqu(i.xi3(23,4,t.score,"1.0"))}},directives:[F.lW,z.Hw,Ke,mt],pipes:[_.JJ],styles:['.game-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:auto;grid-template-areas:"controls board stats"}.game-container[_ngcontent-%COMP%]   .game-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{margin:1em 0;grid-area:stats;font-size:larger}.game-container[_ngcontent-%COMP%]   .game-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .level-value[_ngcontent-%COMP%]{font-weight:700}.game-container[_ngcontent-%COMP%]   .game-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-weight:700;font-size:xx-large}.game-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]{grid-area:controls;display:flex;flex-direction:column;align-items:flex-end}.game-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.5em}.game-container[_ngcontent-%COMP%]   .game-board-content[_ngcontent-%COMP%]{grid-area:board;justify-self:center;position:relative}.game-container[_ngcontent-%COMP%]   .game-splash-container[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%}@media (max-width: 767px){.game-container[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr;grid-template-areas:"stats controls" "board board"}.game-container[_ngcontent-%COMP%]   .game-stats[_ngcontent-%COMP%]{display:flex}.game-container[_ngcontent-%COMP%]   .game-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{margin:.5em;font-size:medium}.game-container[_ngcontent-%COMP%]   .game-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .level-value[_ngcontent-%COMP%]{font-weight:700}.game-container[_ngcontent-%COMP%]   .game-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-weight:700;font-size:large}.game-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]{flex-direction:row;align-items:unset;justify-content:flex-end}.game-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.5em;line-height:2em}.game-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]   .hint-button[_ngcontent-%COMP%]   .hint-button-text[_ngcontent-%COMP%]{display:none}.game-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{min-width:0}.game-container[_ngcontent-%COMP%]   .game-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25em}.game-container[_ngcontent-%COMP%]   .game-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:2em}}']}),a})()}];let pt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[_.ez,Y.Bz.forChild(gt)]]}),a})(),ut=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[_.ez,pt,F.ot,Xe,Le,z.Ps]]}),a})()}}]);