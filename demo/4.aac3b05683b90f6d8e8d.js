(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{vTnf:function(e,t,i){"use strict";i.r(t),i.d(t,"GameModule",function(){return F});var a=i("ofXK"),n=i("tyNb"),r=i("fXoL"),o=i("XNiG");let s=(()=>{class e{WithinGrid(e,t,i){var a,n;const r=null===(a=null==i?void 0:i.grid)||void 0===a?void 0:a.length,o=null===(n=null==i?void 0:i.grid[0])||void 0===n?void 0:n.length;return e>-1&&t>-1&&e<r&&t<o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=function(e){return e[e.Left=2]="Left",e[e.Right=4]="Right",e[e.Up=8]="Up",e[e.Down=16]="Down",e}({}),l=function(e){return e[e.LocateAdjacentTile=0]="LocateAdjacentTile",e[e.ApplyDirectionalAnimation=1]="ApplyDirectionalAnimation",e[e.Swap=2]="Swap",e[e.SwapBack=3]="SwapBack",e[e.Shutter=4]="Shutter",e}({});let h=(()=>{class e{constructor(e){this.gameUtilityService=e,this.gameInteractionStateSource=new o.a,this.gameInteractionState$=this.gameInteractionStateSource.asObservable(),this.isSwapBack=!1}DoStep(e){this.gameInteractionStateSource.next(e)}TileSwiped(e){this.playerTile=e,this.adjacentTile={},this.gameInteractionStateSource.next(l.LocateAdjacentTile)}LocateAdjacentTile(e){let t=this.playerTile.tile.rowInx,i=this.playerTile.tile.colInx;if(1!==this.playerTile.direction){switch(this.playerTile.direction){case c.Up:t--;break;case c.Right:i++;break;case c.Down:t++;break;case c.Left:i--}if(this.gameUtilityService.WithinGrid(t,i,e))return this.adjacentTile=e.grid[t][i],!0}return e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateShutter=!1,this.gameInteractionStateSource.next(l.Shutter),!1}SetDirectionalAnimationClass(e){switch(this.playerTile.direction){case c.Up:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideUp=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideDown=!0;break;case c.Right:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideRight=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideLeft=!0;break;case c.Down:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideDown=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideUp=!0;break;case c.Left:e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateSlideLeft=!0,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx].animateSlideRight=!0}this.gameInteractionStateSource.next(l.Swap)}Swap(e){const t=Object.assign({},e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx]),i=Object.assign({},e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx]);e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx]=i,e.grid[this.adjacentTile.rowInx][this.adjacentTile.colInx]=t}SwapBack(){this.isSwapBack=!this.isSwapBack,this.isSwapBack&&this.gameInteractionStateSource.next(l.LocateAdjacentTile)}Shutter(e){e.grid[this.playerTile.tile.rowInx][this.playerTile.tile.colInx].animateShutter=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(s))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=i("D0XW"),p=i("7o/Q"),m=i("EY2u"),u=i("LRne"),g=i("HDdC");let S=(()=>{class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return Object(u.a)(this.value);case"E":return e=this.error,new g.a(t=>t.error(e));case"C":return Object(m.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function v(e,t=d.a){var i;const a=(i=e)instanceof Date&&!isNaN(+i)?+e-t.now():Math.abs(e);return e=>e.lift(new b(a,t))}class b{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new f(e,this.delay,this.scheduler))}}class f extends p.a{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,a=e.scheduler,n=e.destination;for(;i.length>0&&i[0].time-a.now()<=0;)i.shift().notification.observe(n);if(i.length>0){const t=Math.max(0,i[0].time-a.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new w(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(S.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(S.createComplete()),this.unsubscribe()}}class w{constructor(e,t){this.time=e,this.notification=t}}var x=i("zx2A");function I(e){return t=>t.lift(new y(e))}class y{constructor(e){this.notifier=e}call(e,t){const i=new T(e),a=Object(x.c)(this.notifier,new x.a(i));return a&&!i.seenValue?(i.add(a),t.subscribe(i)):i}}class T extends x.b{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var M=function(e){return e[e.LockBoard=0]="LockBoard",e[e.FindMatches=1]="FindMatches",e[e.RemoveMatchSet=2]="RemoveMatchSet",e[e.ApplyScoring=3]="ApplyScoring",e[e.UnlockBoard=4]="UnlockBoard",e}({});let _=(()=>{class e{constructor(){this.gameLoopStateSource=new o.a,this.gameLoopState$=this.gameLoopStateSource.asObservable()}DoStep(e){this.gameLoopStateSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=function(e){return e[e.SetToRemove=0]="SetToRemove",e[e.NextTile=1]="NextTile",e[e.ApplyRemoveClass=2]="ApplyRemoveClass",e[e.ApplyDropClass=3]="ApplyDropClass",e[e.Shift=4]="Shift",e[e.Complete=5]="Complete",e}({});let R=(()=>{class e{constructor(){this.tileRemoveStateSource=new o.a,this.tilesToRemove=[],this.tileRemoveState$=this.tileRemoveStateSource.asObservable()}StartTileDeletion(e){this.tilesToRemove=e,this.tileRemoveStateSource.next(k.SetToRemove)}SetToRemove(e){this.tilesToRemove.forEach(t=>{e.grid[t.rowInx][t.colInx].toRemove=!0}),this.tileRemoveStateSource.next(k.NextTile)}NextTile(e){this.tilesToRemove.length?(this.currentTile=this.tilesToRemove.shift(),e.colInx=this.currentTile.colInx,this.newTile=e,this.tileRemoveStateSource.next(k.ApplyRemoveClass)):this.tileRemoveStateSource.next(k.Complete)}ApplyRemoveClass(e){e.grid[this.currentTile.rowInx][this.currentTile.colInx].animateRemove=!0,this.tileRemoveStateSource.next(k.ApplyDropClass)}ApplyDropClass(e){let t=this.currentTile.rowInx;for(;t>0;)t--,e.grid[t][this.currentTile.colInx].animateSlideDown=!0;this.tileRemoveStateSource.next(k.Shift)}Shift(e){let t=this.currentTile.rowInx;const i=this.currentTile.colInx;for(;t>0;){t--;const a=Object.assign({},e.grid[t][i]);a.rowInx=t+1,a.animateSlideDown=!1,e.grid[t+1][i]=a}e.grid[0][i]=this.newTile,this.tileRemoveStateSource.next(k.NextTile)}debugColumn(e,t){for(let i=0;i<t.grid.length;i++)console.log("    ",i,t.grid[i][e])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const C={icons:[{code:"1F60E",version:"E1.0",title:"smiling face with sunglasses"},{code:"1F63A",version:"E0.6",title:"grinning cat"},{code:"1F43A",version:"E0.6",title:"wolf"},{code:"1F42C",version:"E0.6",title:"dolphin"},{code:"1F3E1",version:"E0.6",title:"house with garden"},{code:"1F9C7",version:"E12.0",title:"waffle"}]};var O=function(e){return e[e.N=0]="N",e[e.NE=1]="NE",e[e.E=2]="E",e[e.SE=3]="SE",e[e.S=4]="S",e[e.SW=5]="SW",e[e.W=6]="W",e[e.NW=7]="NW",e}({});const A=[O.N,O.E,O.S,O.W],E=[O.N,O.NE,O.E,O.SE,O.S,O.SW,O.W,O.NW];let L=(()=>{class e{constructor(e){this.gameUtilityService=e,this.candidateMatches=new Array,this.matchSets=[],this.potentialMatchSets=[]}get currentMatchSets(){return this.matchSets}get currentPotentialMatches(){return this.potentialMatchSets}CreateGame(e,t){const i={grid:[]};for(let a=0;a<e;a++){i.grid[a]=new Array;for(let e=0;e<t;e++){const t=this.NewTile(a,e);i.grid[a][e]=t}}return i}NewTile(e,t){const i=C.icons[Math.floor(Math.random()*C.icons.length)];return Object.assign({colInx:t,rowInx:e,html:`&#x${i.code};`,score:0},i)}ReIndexGrid(e){var t;null===(t=null==e?void 0:e.grid)||void 0===t||t.forEach((t,i)=>{t.forEach((t,a)=>{e.grid[i][a].colInx=a,e.grid[i][a].rowInx=i,e.grid[i][a].matched=!1,e.grid[i][a].potential=!1,e.grid[i][a].score=0,e.grid[i][a].animateSlideUp=!1,e.grid[i][a].animateSlideRight=!1,e.grid[i][a].animateSlideDown=!1,e.grid[i][a].animateSlideLeft=!1,e.grid[i][a].animateShutter=!1})})}ApplyScoring(e,t){for(const i of t){const a=e.grid[i.rowInx][i.colInx].score;e.grid[i.rowInx][i.colInx].score=a?a*t.length:t.length}}TallyScore(e){let t=0;return null==e||e.grid.forEach(e=>e.forEach(e=>{t+=e.score})),t}ApplyPotentials(e,t){if(e&&t)for(const i of t)for(const t of i)e.grid[t.rowInx][t.colInx].potential=!0}FindMatchesAndPotentials(e){var t;this.candidateMatches=[],this.matchSets=[],this.potentialMatchSets=[],null===(t=null==e?void 0:e.grid)||void 0===t||t.forEach(t=>{t.forEach(t=>{A.forEach(i=>{this.candidateMatches=[Object.assign({},t)],this.directionalSearch(i,t,e),this.candidateMatches.length>=3&&(this.candidateMatches.forEach(t=>{e.grid[t.rowInx][t.colInx].matched=!0}),this.candidateMatches.every(e=>e.matched)||this.matchSets.push([...this.candidateMatches]))}),this.potentialSearchStaggered(t,e)})})}directionalSearch(e,t,i){let a=t.rowInx,n=t.colInx;switch(e){case O.N:a=t.rowInx-1;break;case O.E:n=t.colInx+1;break;case O.S:a=t.rowInx+1;break;case O.W:n=t.colInx-1}if(!this.gameUtilityService.WithinGrid(a,n,i))return;const r=i.grid[a][n];if(r.code===t.code)this.candidateMatches.push(Object.assign({},r)),this.directionalSearch(e,r,i);else if(2===this.candidateMatches.length)return this.potentialSearch(t,i),void this.potentialExtended(e,t,i)}potentialSearch(e,t){let i=0,a=0;for(const n of E){switch(n){case O.N:i=e.rowInx-1;break;case O.NE:i=e.rowInx-1,a=e.colInx+1;break;case O.E:a=e.colInx+1;break;case O.SE:i=e.rowInx+1,a=e.colInx+1;break;case O.S:i=e.rowInx+1;break;case O.SW:i=e.rowInx+1,a=e.colInx-1;break;case O.W:a=e.colInx-1;break;case O.NW:i=e.rowInx-1,a=e.colInx-1}if(this.gameUtilityService.WithinGrid(i,a,t)){const n=t.grid[i][a],r=this.candidateMatches[0];if(n&&n.rowInx!==r.rowInx&&n.colInx!==r.colInx&&n.code===e.code)return void this.potentialMatchSets.push([...this.candidateMatches,n])}}}potentialExtended(e,t,i){let a=t.rowInx,n=t.colInx;switch(e){case O.N:a=t.rowInx-2;break;case O.E:n=t.colInx+2;break;case O.S:a=t.rowInx+2;break;case O.W:n=t.colInx-2}if(this.gameUtilityService.WithinGrid(a,n,i)){const e=i.grid[a][n];this.candidateMatches.every(t=>t.code===e.code)&&this.potentialMatchSets.push([...this.candidateMatches,e])}}potentialSearchStaggered(e,t){var i;const a=new Array;let n=0,r=0;if(A.forEach(i=>{switch(n=e.rowInx,r=e.colInx,i){case O.N:n=e.rowInx-1;break;case O.E:r=e.colInx+1;break;case O.S:n=e.rowInx+1;break;case O.W:r=e.colInx-1}this.gameUtilityService.WithinGrid(n,r,t)&&a.push(t.grid[n][r])}),a.length>=3)for(let o=0;o<a.length;o++){const e=null===(i=a[o])||void 0===i?void 0:i.code,t=a.filter(t=>(null==t?void 0:t.code)===e);if(t.length>=3)return void this.potentialMatchSets.push(t)}}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(s))},e.\u0275prov=r.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),D=(()=>{class e{constructor(e){this.gameInteractionsService=e}onSwipe(e){this.gameInteractionsService.TileSwiped({tile:this.tile,direction:null==e?void 0:e.direction})}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(h))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-game-board-tile"]],inputs:{tile:"tile",disabled:"disabled"},decls:3,vars:19,consts:[[1,"game-tile",3,"swipe"],[1,"tile-overlay",3,"innerHTML"],[1,"emoji"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Rb("swipe",function(e){return t.onSwipe(e)}),r.Jb(1,"div",1),r.Jb(2,"div",2),r.Kb()),2&e&&(r.Ab("game-tile__disabled",t.disabled),r.yb(1),r.Ab("tile-overlay__to-remove",null==t.tile?null:t.tile.toRemove)("tile-overlay__remove",null==t.tile?null:t.tile.animateRemove)("tile-overlay__slide-up",null==t.tile?null:t.tile.animateSlideUp)("tile-overlay__slide-right",null==t.tile?null:t.tile.animateSlideRight)("tile-overlay__slide-down",null==t.tile?null:t.tile.animateSlideDown)("tile-overlay__slide-left",null==t.tile?null:t.tile.animateSlideLeft)("tile-overlay__reset-slide",!(null!=t.tile&&t.tile.animateSlideDown||null!=t.tile&&t.tile.animateSlideUp||null!=t.tile&&t.tile.animateSlideRight||t.tile.animateSlideLeft))("tile-overlay__shutter",null==t.tile?null:t.tile.animateShutter),r.Wb("innerHTML",null==t.tile?null:t.tile.html,r.Yb))},styles:[".game-tile[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;position:relative;height:1.5em;width:1.5em;font-size:4em;background-color:#d3d3d3;border-radius:.25em;margin:.1em;display:flex;justify-content:center;align-items:center;transition:opacity .5s}.game-tile__disabled[_ngcontent-%COMP%]{filter:blur(1px)}.game-tile[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{box-sizing:border-box;top:0;left:0;right:0;bottom:0;visibility:hidden}.game-tile[_ngcontent-%COMP%]   .tile-overlay[_ngcontent-%COMP%]{position:absolute;transition:transform 1s,font-size 1s,opacity 1s,margin-left .5s,margin-top .5s}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-down[_ngcontent-%COMP%]{margin-top:3.3em;z-index:1;filter:blur(2px)}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-up[_ngcontent-%COMP%]{margin-top:-3.3em;z-index:1;filter:blur(2px)}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-right[_ngcontent-%COMP%]{margin-left:3.3em;z-index:1;filter:blur(2px)}.game-tile[_ngcontent-%COMP%]   .tile-overlay__slide-left[_ngcontent-%COMP%]{margin-left:-3.3em;z-index:1;filter:blur(2px)}.game-tile[_ngcontent-%COMP%]   .tile-overlay__reset-slide[_ngcontent-%COMP%]{transition:transform 1s,font-size 1s,opacity 1s;margin-left:0;margin-top:0}.game-tile[_ngcontent-%COMP%]   .tile-overlay__to-remove[_ngcontent-%COMP%]{animation:wobble 1s infinite}.game-tile[_ngcontent-%COMP%]   .tile-overlay__remove[_ngcontent-%COMP%]{transform:rotate(-365deg);font-size:0;opacity:0}.game-tile[_ngcontent-%COMP%]   .tile-overlay__shutter[_ngcontent-%COMP%]{animation:shutter .25s 2}@keyframes wobble{0%{transform:rotate(10deg);font-size:90%}50%{transform:rotate(-10deg);font-size:120%}}@keyframes shutter{0%{margin-left:.5em;transform:skewX(5deg,5deg)}50%{margin-left:-.5em;transform:skew(-5deg,-5deg)}}@media (max-width:767px){.game-tile[_ngcontent-%COMP%]{height:1.75em;width:1.75em;margin:.05em;font-size:3.05em}}"]}),e})();function N(e,t){if(1&e&&r.Jb(0,"app-game-board-tile",2),2&e){const e=t.$implicit,i=r.Tb();r.Wb("tile",e)("disabled",i.disabled)}}let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Cb({type:e,selectors:[["app-game-board-row"]],inputs:{tileRow:"tileRow",disabled:"disabled"},decls:2,vars:1,consts:[[1,"game-row"],["class","game-row",3,"tile","disabled",4,"ngFor","ngForOf"],[1,"game-row",3,"tile","disabled"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.bc(1,N,1,2,"app-game-board-tile",1),r.Kb()),2&e&&(r.yb(1),r.Wb("ngForOf",t.tileRow))},directives:[a.h,D],styles:[".game-row[_ngcontent-%COMP%]{display:flex}"]}),e})();function j(e,t){if(1&e&&(r.Lb(0,"div"),r.Jb(1,"app-game-board-row",2),r.Kb()),2&e){const e=t.$implicit,i=r.Tb();r.yb(1),r.Wb("tileRow",e)("disabled",i.boardDisabled)}}let P=(()=>{class e{constructor(e,t,i,a){this.gameService=e,this.gameLoopService=t,this.tileRemoveService=i,this.gameInteractionsService=a,this.score=0,this.boardDisabled=!1,this.matchSets=[],this.currentMatchSet=[],this.potentialMatchSets=[],this.scoreUpdated=new r.n,this.GAME_BOARD_ROWS=7,this.GAME_BOARD_COLUMNS=5,this.subscription=new o.a,this.swapInProgress=!1,this.gameBoard=this.gameService.CreateGame(this.GAME_BOARD_ROWS,this.GAME_BOARD_COLUMNS),console.log("created",this.gameBoard)}ngOnInit(){this.gameLoopService.gameLoopState$.pipe(v(50)).pipe(I(this.subscription)).subscribe(e=>{switch(e){case M.LockBoard:this.boardDisabled=!0,this.gameLoopService.DoStep(M.FindMatches);break;case M.FindMatches:this.gameService.FindMatchesAndPotentials(this.gameBoard),this.matchSets=this.gameService.currentMatchSets,this.potentialMatchSets=this.gameService.currentPotentialMatches,this.gameLoopService.DoStep(M.RemoveMatchSet);break;case M.RemoveMatchSet:this.matchSets.length?(this.currentMatchSet=this.matchSets.shift(),this.tileRemoveService.StartTileDeletion(this.currentMatchSet.map(e=>Object.assign({},e))),this.swapInProgress=!1):(this.swapInProgress&&(this.gameInteractionsService.DoStep(l.SwapBack),this.swapInProgress=!1),this.potentialMatchSets.length&&this.gameLoopService.DoStep(M.UnlockBoard));break;case M.ApplyScoring:this.gameService.ApplyScoring(this.gameBoard,this.currentMatchSet),this.score+=this.gameService.TallyScore(this.gameBoard),this.scoreUpdated.emit(this.score),this.gameLoopService.DoStep(M.FindMatches);break;case M.UnlockBoard:this.boardDisabled=!1}}),this.tileRemoveService.tileRemoveState$.pipe(v(150)).pipe(I(this.subscription)).subscribe(e=>{switch(e){case k.SetToRemove:this.tileRemoveService.SetToRemove(this.gameBoard);break;case k.NextTile:this.gameService.ReIndexGrid(this.gameBoard),this.tileRemoveService.NextTile(this.gameService.NewTile(0,0));break;case k.ApplyRemoveClass:this.tileRemoveService.ApplyRemoveClass(this.gameBoard);break;case k.ApplyDropClass:this.tileRemoveService.ApplyDropClass(this.gameBoard);break;case k.Shift:this.tileRemoveService.Shift(this.gameBoard);break;case k.Complete:this.gameLoopService.DoStep(M.ApplyScoring)}}),this.gameInteractionsService.gameInteractionState$.pipe(v(100)).pipe(I(this.subscription)).subscribe(e=>{switch(e){case l.LocateAdjacentTile:this.gameInteractionsService.LocateAdjacentTile(this.gameBoard)&&(this.swapInProgress=!0,this.gameInteractionsService.DoStep(l.ApplyDirectionalAnimation));break;case l.ApplyDirectionalAnimation:this.gameInteractionsService.SetDirectionalAnimationClass(this.gameBoard);break;case l.Swap:this.gameInteractionsService.Swap(this.gameBoard),this.gameService.ReIndexGrid(this.gameBoard),this.gameLoopService.DoStep(M.LockBoard);break;case l.SwapBack:this.gameInteractionsService.SwapBack();break;case l.Shutter:this.gameInteractionsService.Shutter(this.gameBoard)}}),this.gameLoopService.DoStep(M.LockBoard)}ngOnDestroy(){this.subscription.next(!0),this.subscription.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(L),r.Ib(_),r.Ib(R),r.Ib(h))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-game-board"]],outputs:{scoreUpdated:"scoreUpdated"},decls:2,vars:1,consts:[[1,"game-board"],[4,"ngFor","ngForOf"],[3,"tileRow","disabled"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.bc(1,j,2,2,"div",1),r.Kb()),2&e&&(r.yb(1),r.Wb("ngForOf",t.gameBoard.grid))},directives:[a.h,B],styles:[".game-board[_ngcontent-%COMP%]{display:inline-block;position:relative;overflow:hidden}"]}),e})();const W=[{path:"",component:(()=>{class e{constructor(){this.score=0}ngOnInit(){}updateScore(e){this.score=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Cb({type:e,selectors:[["app-game-container"]],decls:6,vars:1,consts:[[1,"game-info"],[1,"game-board",3,"scoreUpdated"]],template:function(e,t){1&e&&(r.Lb(0,"div",0),r.Lb(1,"h2"),r.cc(2,"Level 1"),r.Kb(),r.Lb(3,"h2"),r.cc(4),r.Kb(),r.Kb(),r.Lb(5,"app-game-board",1),r.Rb("scoreUpdated",function(e){return t.updateScore(e)}),r.Kb()),2&e&&(r.yb(4),r.dc("Score: ",t.score,""))},directives:[P],styles:[".game-info[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"]}),e})()}];let U=(()=>{class e{}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(t){return new(t||e)},imports:[[a.b,n.a.forChild(W)]]}),e})(),F=(()=>{class e{}return e.\u0275mod=r.Gb({type:e}),e.\u0275inj=r.Fb({factory:function(t){return new(t||e)},imports:[[a.b,U]]}),e})()}}]);